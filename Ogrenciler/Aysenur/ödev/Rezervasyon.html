<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Javascript'e Giriş</title>
</head>
<body>
    
    <div>
        <div><h3>Rezervasyon</h3></br></div>
        
        <!-- <div class="container"> -->
            <div class="row" style="height: 120px;">
            
                <div class="col-md-4" id="filmSecimi">
                    <h5>Film Seçimi</h5>

                    <table class="default" style="margin-left: 50px;">
                        <tr>
                            <td><input type = "button" class="filmButton"  id="aFilmi" onclick="createTable()" value = "A Filmi"></td>
                            <td><input type = "button" class="filmButton"  id="bFilmi" onclick="createTable()" value = "B Filmi"></td>
                        </tr>
                        <tr> 
                            <td><input type = "button" class="filmButton"  id="cFilmi" onclick="createTable()" value = "C Filmi"></td>
                            <td><input type = "button" class="filmButton"  id="dFilmi" onclick="createTable()" value = "D Filmi"></td>
                        </tr>
                        <tr>       
                            <td><input type = "button" class="filmButton"  id="eFilmi" onclick="createTable()" value = "E Filmi"></td>
                            <td><input type = "button" class="filmButton"  id="fFilmi" onclick="createTable()" value = "F Filmi"></td>
                        </tr>
                        <tr> 
                            <td><input type = "button" class="filmButton"  id="gFilmi" onclick="createTable()" value = "G Filmi"></td>
                            <td><input type = "button" class="filmButton"  id="hFilmi" onclick="createTable()" value = "H Filmi"></td>
                        </tr>

                    </table>
                </div>

                <div class="col-md-4" id="koltukInfo" style="display:none">
                    <h5>Koltuk Seçimi</h5>
                     <div id="koltukSecimi"></div>
                </div>

                <div class="col-md-4" id="userInfo" style="display:none">
                    <h5>Müşteri Bilgileri</h5>
                    <div id="selectedKoltuk"></div>

                    <form method="POST" action="login/control.php">
                        <label for="username"> Kullanıcı Adınızı ve E-Posta Adresinizi giriniz. </label>
                        <input placeholder="Kullanıcı Adı" value="" id="username" name="username">
            
                        <input placeholder="Email" type="email" value="" id="email" name="email">
            
                        <button type="submit"> Satın Al </button>
                    </form>

                    
                </div>
            </div>
        <!-- </div> -->
    </div>

<script>
    function createTable(){
        var koltukInfo = document.getElementById("koltukInfo");
        koltukInfo.style.display = "block";

        var table = document.createElement('table');   
        var koltukCount = 1;
        for (var i = 0; i < 12; i++)
        {
            var tr = document.createElement('tr'); 
            
            for (var j = 0; j < 6; j++){
                var td1 = document.createElement('td');
                
                var elem = document.createElement("img");
                elem.setAttribute("height", "25");
                elem.setAttribute("width", "50");
                elem.setAttribute("alt", "Flower");
                

                var random = Math.floor(Math.random() * 4);
                if(random == 1)
                {
                    elem.setAttribute("src", "doluKoltuk.png");
                    elem.setAttribute("id", "koltukIdx");
                    elem.setAttribute("onclick", "GetUserInfo("+-1+")");
                }
                else{
                    elem.setAttribute("src", "bosKoltuk.png");
                    elem.setAttribute("id", "koltukId"+koltukCount);
                    elem.setAttribute("onclick", "GetUserInfo("+koltukCount+")");
                }
                koltukCount++;

                td1.appendChild(elem);
                tr.appendChild(td1);

            }

            table.appendChild(tr);
        }
        document.getElementById("koltukSecimi").appendChild(table);
    }
 
 function GetUserInfo(koltukSayisi){
    document.getElementById("selectedKoltuk").innerHTML = "";

    var userInfo = document.getElementById("userInfo");
    userInfo.style.display = "block";
    if(koltukSayisi == -1){
        var notes = document.createTextNode("Sayın müşteri, Dolu koltuk seçtiniz. Lütfen başka bir koltuk seçiniz..");

    }
    else{
        var notes = document.createTextNode("Sayın müşteri, "+koltukSayisi+". koltugu sectiniz. \n Lütfen aşağıdaki bilgileri doldurunuz..");
    }
    
    document.getElementById("selectedKoltuk").appendChild(notes); 
 }
</script>

</body>
<style>

.filmButton{
    width: 150px;
    height: 50px;
    font-size: 25px;
    background-color: rgb(141, 162, 192);
    margin: 4px;
    color: white;
    border: none;
    border-radius: 15px;
    box-shadow: 0 9px #999;
}
.filmButton:hover {background-color: #9464af}

.filmButton:active {
    background-color: #9464af;
    box-shadow: 0 5px rgb(48, 107, 109);
    transform: translateY(4px);
}
</style>
</html>